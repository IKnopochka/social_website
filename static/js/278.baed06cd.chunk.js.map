{"version":3,"file":"static/js/278.baed06cd.chunk.js","mappings":"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","sources":["webpack://project1/./src/s2-features/f7-users/Users.module.css?4091","s1-main/m1-ui/common/Paginator.tsx","s2-features/f7-users/Users.tsx","s2-features/f7-users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"photo\":\"Users_photo__Uk11Y\",\"selectedPage\":\"Users_selectedPage__4Bocn\",\"page\":\"Users_page__8JWNo\"};","import React, {useState} from 'react';\nimport styles from \"s2-features/f7-users/Users.module.css\";\nimport {UsersPropsType} from \"s2-features/f7-users/Users\";\n\nexport const Paginator = ({onPageChanged, totalItemsCount, itemsPerPage, currentPage, pagesPerPortion, ...props}: UsersPropsType) => {\n    let pagesTotalNumber = Math.ceil(totalItemsCount / itemsPerPage)\n    let pages = []\n    for (let i = 0; i < pagesTotalNumber; i++) {\n        pages.push(i + 1)\n    }\n\n    const [portionNumber, setPortionNumber] = useState(1)\n\n    const totalPortionsNumber = Math.ceil(pagesTotalNumber / pagesPerPortion)\n    const leftPortionSidePageNumber = (portionNumber - 1) * pagesPerPortion + 1\n    const rightPortionSidePageNumber = portionNumber * pagesPerPortion\n\n    const previousPageHandler = () => {\n        setPortionNumber(portionNumber - 1)\n    }\n    const nextPageHandler = () => {\n        setPortionNumber(portionNumber + 1)\n    }\n\n    return <div>\n        {portionNumber > 1 && <button onClick={previousPageHandler}>previous</button>}\n        {\n            pages\n                .filter(p => p >= leftPortionSidePageNumber && p <= rightPortionSidePageNumber)\n                .map(p => {\n                    return <span className={currentPage === p ? styles.selectedPage : styles.page}\n                                 onClick={() => {\n                                     onPageChanged(p)\n                                 }}>{p}</span>\n                })\n        }\n        {portionNumber < totalPortionsNumber && <button onClick={nextPageHandler}>next</button>}\n    </div>\n}\n\n","import React from 'react';\nimport userPhoto from \"s1-main/m1-ui/images/defaultProfileImage.png\";\nimport styles from \"s2-features/f7-users/Users.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport {UsersPagePropsType} from \"s2-features/f7-users/UsersContainer\";\nimport {Paginator} from \"s1-main/m1-ui/common/Paginator\";\n\nexport type UsersPropsType = {\n        onPageChanged: (p: number) => void\n    }\n    & UsersPagePropsType\n\n\nconst Users = ({onPageChanged, ...props}: UsersPropsType) => {\n\n        let userElement = props.users.map(m => <div key={m.id}>\n        <span>\n            <div>\n                <NavLink to={'/profile/' + m.id}>\n                    <img src={m.photos.small !== null ? m.photos.small : userPhoto} className={styles.photo}/>\n                </NavLink>\n            </div>\n            <div>\n                {m.followed ? <button disabled={props.processingInProgress.some((id) => id === m.id)}\n                                      onClick={() => props.unFollowUserThunkCreator(m.id)}\n                    >Unfollow</button>\n                    : <button disabled={props.processingInProgress.some(id => id === m.id)}\n                              onClick={() => {props.followUserThunkCreator(m.id)}}\n                    >Follow</button>}\n            </div>\n        </span>\n            <span>\n        <span>\n            <div>{m.name}</div>\n            <div>{m.status}</div>\n        </span>\n        <span>\n            <div>{\"m.location.city\"}</div>\n            <div>{\"m.location.country\"}</div>\n        </span>\n        </span>\n\n        </div>)\n    return (<div>\n                <Paginator onPageChanged={onPageChanged} {...props}/>\n                <div>{userElement}</div>\n            </div>\n\n        );\n    }\n;\n\nexport default Users\n\n","import React from 'react';\nimport {connect} from \"react-redux\";\n\n\nimport Users from \"s2-features/f7-users/Users\";\nimport Preloader from \"s1-main/m1-ui/common/preloader/Preloader\";\n\nimport {compose} from \"redux\";\nimport {\n    AllUsersPropsType, follow,\n    followUserThunkCreator, getUsersThunkCreator,\n    toggleButtonInProcess, unfollow,\n    unFollowUserThunkCreator\n} from \"s1-main/m2-bll/users-reducer\";\nimport {getUsersSelectorFake} from \"s1-main/m1-ui/common/selectors/selectors\";\nimport {AppRootStateType} from \"s1-main/m3-dal/store\";\nimport {withAuthRedirect} from \"s1-main/m1-ui/HOCs/withAuthRedirect\";\n\n\nexport type UsersPagePropsType = AllUsersPropsType & MapToDispatchPropsType\n\nexport type MapToDispatchPropsType = {\n    follow: (id: number) => void\n    unfollow: (id: number) => void\n    toggleButtonInProcess: (isProcessing: boolean, userId: number) => void\n    getUsersThunkCreator: (page: number, pageSize: number) => void\n    followUserThunkCreator: (id: number) => void\n    unFollowUserThunkCreator: (id: number) => void\n}\n\nclass UsersContainer extends React.Component<UsersPagePropsType> {\n\n    componentDidMount() {\n        console.log('user Cont comp did mount')\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.itemsPerPage)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        this.props.getUsersThunkCreator(pageNumber, this.props.itemsPerPage)\n    }\n\n    render() {\n        console.log('user Cont render')\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n\n            <Users onPageChanged={this.onPageChanged}\n                   {...this.props}\n            />\n        </>\n    }\n}\n\n\nconst mapStateToProps = (state: AppRootStateType): AllUsersPropsType => {\n    console.log('MapStateTpProps USER container')\n    return {\n        users: getUsersSelectorFake(state),\n        itemsPerPage: state.usersPage.itemsPerPage,\n        totalItemsCount: state.usersPage.totalItemsCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching,\n        processingInProgress: state.usersPage.processingInProgress,\n        pagesPerPortion: state.usersPage.pagesPerPortion\n    }\n}\n\nexport default compose<React.ComponentType>(\n    connect(mapStateToProps,\n        {\n            follow, unfollow, toggleButtonInProcess,\n            getUsersThunkCreator,\n            followUserThunkCreator,\n            unFollowUserThunkCreator\n        }),\n    withAuthRedirect)(UsersContainer)\n"],"names":["Paginator","_ref","onPageChanged","totalItemsCount","itemsPerPage","currentPage","pagesPerPortion","pagesTotalNumber","_objectWithoutProperties","_excluded","Math","ceil","pages","i","push","_useState","useState","_useState2","_slicedToArray","portionNumber","setPortionNumber","totalPortionsNumber","leftPortionSidePageNumber","rightPortionSidePageNumber","_jsxs","children","_jsx","onClick","filter","p","map","className","styles","props","userElement","users","m","NavLink","to","id","src","photos","small","followed","disabled","processingInProgress","some","unFollowUserThunkCreator","followUserThunkCreator","name","status","_objectSpread","UsersContainer","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","pageNumber","getUsersThunkCreator","_createClass","key","value","console","log","this","_Fragment","isFetching","Preloader","Users","React","compose","connect","state","getUsersSelectorFake","usersPage","follow","unfollow","toggleButtonInProcess","withAuthRedirect"],"sourceRoot":""}